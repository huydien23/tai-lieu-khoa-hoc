@model QuanLyTaiLieuKhoaHoc.Web.Models.TaiLieu
@using QuanLyTaiLieuKhoaHoc.Web.Models

<div class="container-fluid">
    <div class="card shadow rounded-4 border-0 p-3" style="background: #f8fafc;">
        <div class="row g-4">
            <!-- Cột trái: Thông tin mô tả và tác giả -->
            <div class="col-md-6">
                <div class="h-100 d-flex flex-column justify-content-between">
                    <div>
                        <h4 class="fw-bold text-primary mb-3">
                            <i class="fas fa-file-alt me-2"></i>@Model.TenTaiLieu
                        </h4>
                        <hr class="my-2">
                        <div class="mb-3">
                            <span class="fw-semibold text-muted"><i class="fas fa-align-left me-1"></i>Mô tả:</span>
                            <div class="text-muted small">@Model.MoTa</div>
                        </div>
                        <div class="mb-3">
                            <span class="fw-semibold text-muted"><i class="fas fa-user-edit me-1"></i>Tác giả:</span>
                            <span class="text-dark ms-1">@(Model.TacGia ?? "Chưa xác định")</span>
                        </div>
                        <div class="row mb-3">
                            <div class="col-sm-6 mb-2">
                                <span class="fw-semibold text-muted"><i class="fas fa-layer-group me-1"></i>Chuyên ngành:</span>
                                <span class="badge rounded-pill bg-gradient bg-secondary ms-1 px-3 py-2"><i class="fas fa-book-reader me-1"></i>@(Model.ChuyenNganh?.TenChuyenNganh ?? "Chưa phân loại")</span>
                            </div>
                            <div class="col-sm-6 mb-2">
                                <span class="fw-semibold text-muted"><i class="fas fa-tag me-1"></i>Loại tài liệu:</span>
                                <span class="badge rounded-pill bg-info text-dark ms-1 px-3 py-2"><i class="fas fa-cube me-1"></i>@(Model.LoaiTaiLieu?.TenLoaiTaiLieu ?? "Chưa phân loại")</span>
                            </div>
                        </div>
                        <div class="row mb-3">
                            <div class="col-sm-6 mb-2">
                                <span class="fw-semibold text-muted"><i class="fas fa-user me-1"></i>Tác giả:</span>
                                <span class="ms-1">@(Model.TacGia ?? "Không rõ")</span>
                            </div>
                            <div class="col-sm-6 mb-2">
                                <span class="fw-semibold text-muted"><i class="fas fa-calendar me-1"></i>Ngày tải lên:</span>
                                <span class="ms-1">@Model.NgayTaiLen.ToString("dd/MM/yyyy HH:mm")</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Cột phải: Thông tin chi tiết đặc thù -->
            <div class="col-md-6">
                <div class="h-100 bg-white rounded-4 border p-3 shadow-sm">
                    <h6 class="fw-semibold text-primary mb-3">
                        <i class="fas fa-info-circle me-1"></i>Thông tin @Model.LoaiTaiLieu?.TenLoaiTaiLieu
                    </h6>
                    <table class="table table-sm table-striped table-bordered rounded mb-0">
                        <tbody>
                            @if (Model.LoaiTaiLieu?.TenLoaiTaiLieu != null)
                            {
                                if (Model.LoaiTaiLieu.TenLoaiTaiLieu.Contains("báo", System.StringComparison.OrdinalIgnoreCase))
                                {
                                    <tr><td class="fw-semibold">Tiêu đề:</td><td>@Model.TieuDe</td></tr>
                                    <tr><td class="fw-semibold">Tạp chí/Hội nghị:</td><td>@Model.TapChiHoiNghi</td></tr>
                                    <tr><td class="fw-semibold">Ngày công bố:</td><td>@(Model.NgayCongBo?.ToString("dd/MM/yyyy") ?? "")</td></tr>
                                    <tr><td class="fw-semibold">DOI:</td><td>@Model.DOI</td></tr>
                                    <tr><td class="fw-semibold">ISSN:</td><td>@Model.ISSN</td></tr>
                                    <tr><td class="fw-semibold">Cấp độ:</td><td>@Model.CapDo</td></tr>
                                }
                                else if (Model.LoaiTaiLieu.TenLoaiTaiLieu.Contains("đề tài", System.StringComparison.OrdinalIgnoreCase))
                                {
                                    <tr><td class="fw-semibold">Tên đề tài:</td><td>@Model.TenDeTai</td></tr>
                                    <tr><td class="fw-semibold">Mã số đề tài:</td><td>@Model.MaSoDeTai</td></tr>
                                    <tr><td class="fw-semibold">Cấp đề tài:</td><td>@Model.CapDeTai</td></tr>
                                    <tr><td class="fw-semibold">Thời gian thực hiện:</td><td>@Model.ThoiGianThucHien</td></tr>
                                    <tr><td class="fw-semibold">Cơ quan chủ trì:</td><td>@Model.CoQuanChuTri</td></tr>
                                    <tr><td class="fw-semibold">Chủ nhiệm đề tài:</td><td>@Model.ChuNhiemDeTai</td></tr>
                                }
                                else if (Model.LoaiTaiLieu.TenLoaiTaiLieu.Contains("giáo trình", System.StringComparison.OrdinalIgnoreCase) || Model.LoaiTaiLieu.TenLoaiTaiLieu.Contains("giảng dạy", System.StringComparison.OrdinalIgnoreCase))
                                {
                                    <tr><td class="fw-semibold">Tên giáo trình:</td><td>@Model.TenGiaoTrinh</td></tr>
                                    <tr><td class="fw-semibold">Môn học liên quan:</td><td>@Model.MonHocLienQuan</td></tr>
                                    <tr><td class="fw-semibold">Đơn vị phát hành:</td><td>@Model.DonViPhatHanh</td></tr>
                                    <tr><td class="fw-semibold">Năm xuất bản:</td><td>@(Model.NamXuatBan?.ToString() ?? "")</td></tr>
                                    <tr><td class="fw-semibold">Số tín chỉ:</td><td>@(Model.SoTinChi?.ToString() ?? "")</td></tr>
                                }
                            }
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
        <div class="modal-footer border-0 bg-transparent px-0 mt-3 justify-content-end">
            <button type="button" class="btn btn-secondary px-4 py-2 rounded-pill" data-bs-dismiss="modal">
                <i class="fas fa-times me-1"></i>Đóng
            </button>
        </div>
    </div>
</div>
