@model TaiLieuListViewModel

@{
    ViewData["Title"] = "Danh sách / Tìm kiếm tài liệu";
    ViewBag.SearchAction = "Index";
    ViewBag.SearchController = "TaiLieu";
}

<div class="container-fluid mt-4">
    <div class="d-flex justify-content-between align-items-center mb-4">
        <div>
            <h2><i class="fas fa-file-alt me-2"></i>Danh sách / Tìm kiếm tài liệu</h2>
            <p class="text-muted mb-0">Khám phá và tìm kiếm tài liệu khoa học</p>
        </div>
        @if (User.Identity?.IsAuthenticated == true && User.IsInRole("ThuThu"))
        {
            <a asp-action="Create" class="btn btn-primary">
                <i class="fas fa-plus me-2"></i>Thêm Tài liệu mới
            </a>
        }
    </div>

    <!-- Search Form -->
    @await Html.PartialAsync("_DocumentSearchForm", Model)

    <!-- Results Info -->
    <div class="d-flex justify-content-between align-items-center mb-3">
        <div>
            <span class="badge bg-primary">
                Tìm thấy @Model.TongSoTaiLieu tài liệu
            </span>
            @if (!string.IsNullOrEmpty(Model.TimKiem))
            {
                <span class="badge bg-secondary">
                    Từ khóa: "@Model.TimKiem"
                </span>
            }
        </div>
    </div>

    <!-- Documents Grid -->
    <div id="documentsGrid" class="documents-view">
        @await Html.PartialAsync("_DocumentGrid", Model)
    </div>
</div>
